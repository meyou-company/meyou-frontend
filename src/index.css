@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   BASE
   ========================= */

@layer base {
  :root {
    --app-bg: 23 10 40;
    --app-text: 255 255 255;

    /* DARK background */
    --app-bg-image: url("/foon.png");
    --app-bg-image-opacity: 0.9;

    --app-overlay-1: rgba(0, 0, 0, 0.05);
    --app-overlay-2: rgba(0, 0, 0, 0.35);
    --app-overlay-3: rgba(0, 0, 0, 0.55);

    /* DARK — PROFILE / AUTH FIELDS */
    --field-grad: linear-gradient(90deg, #4f6bff 0%, #805cff 52%, #ff4fb1 100%);
    --field-shadow: 0 0 18px rgba(255, 65, 193, 0.18);
    --field-inner: rgba(18, 10, 34, 0.6);
    --field-text: rgba(255, 255, 255, 0.92);
    --field-placeholder: rgba(255, 255, 255, 0.45);

    /* ✅ DARK — SELECT (читабельність списків) */
    --select-menu-bg: rgba(18, 10, 34, 0.96);
    --select-text: rgba(255, 255, 255, 0.92);
    --select-placeholder: rgba(255, 255, 255, 0.55);

    --select-option-hover-bg: linear-gradient(
      90deg,
      rgba(79, 107, 255, 0.22),
      rgba(176, 92, 255, 0.22),
      rgba(255, 79, 177, 0.22)
    );

    --select-option-selected-bg: linear-gradient(
      90deg,
      #4f6bff 0%,
      #b05cff 55%,
      #ff4fb1 100%
    );
  }

  /* Денний режим: тема застосовується до всього документа */
  html[data-theme="light"] {
    --app-bg: 241 231 255;
    --app-text: 23 10 40;

    --app-bg-image: none;
    --app-bg-image-opacity: 0;

    --app-overlay-1: rgba(255, 255, 255, 0.35);
    --app-overlay-2: rgba(255, 255, 255, 0.15);
    --app-overlay-3: rgba(0, 0, 0, 0.08);

    /* LIGHT — PROFILE / AUTH FIELDS */
    --field-grad: linear-gradient(90deg, #4f6bff 0%, #805cff 52%, #ff4fb1 100%);
    --field-shadow: 0 0 14px rgba(123, 92, 255, 0.18);
    --field-inner: rgba(255, 255, 255, 0.75);
    --field-text: #170a28;
    --field-placeholder: rgba(0, 0, 0, 0.45);

    /* ✅ LIGHT — SELECT */
    --select-menu-bg: #ffffff;
    --select-text: #2b1b4f;
    --select-placeholder: rgba(43, 27, 79, 0.55);

    --select-option-hover-bg: rgba(79, 107, 255, 0.12);

    --select-option-selected-bg: linear-gradient(
      90deg,
      #4f6bff 0%,
      #b05cff 55%,
      #ff4fb1 100%
    );
  }


  body {
    margin: 0;
    @apply bg-appBg text-appText;
    overflow-x: hidden;
    overflow-y: auto;
    position: relative;
  }

  body::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -1;
    background-image: var(--app-bg-image);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    opacity: var(--app-bg-image-opacity);
    pointer-events: none;
  }

  body::after {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -1;
    background: radial-gradient(
      circle at 50% 30%,
      var(--app-overlay-1) 0%,
      var(--app-overlay-2) 55%,
      var(--app-overlay-3) 100%
    );
    pointer-events: none;
  }
}


/* =========================
   APP LAYOUT (GLOBAL)
   ========================= */
@layer components {
  /* зовнішній центрер */
  .app-shell {
    @apply w-full flex justify-center;
    min-height: 100dvh;
  }

  /* “сторінка” */
  .app-page {
    @apply w-full flex justify-center;
    min-height: 100dvh;
  }

  /* контейнер контенту */
  .app-container {
    @apply w-full flex flex-col;
    @apply px-4 pt-8 pb-10;

    /* ✅ не фіксуємо висоту жорстко */
    min-height: 100dvh;
    height: auto;
  }

  /* ✅ За замовчуванням (mobile/tablet) — скрол всередині контенту */
  .app-content {
    @apply flex-1 min-h-0;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  @screen md {
    .app-container { max-width: 1440px; }
  }

  /* ✅ На desktop: скрол сторінки (body), а контент НЕ обрізається */
  @screen lg {
    .app-container {
      min-height: 100vh;
      height: auto;
    }

    .app-content {
      overflow: visible;
      min-height: auto;
      flex: initial;
    }
  }

  @screen 2xl {
    .app-container { max-width: 1440px; }
  }
}

/* Sonner toast: above modals, readable font */
[data-sonner-toaster] {
  z-index: 99999999 !important;
}
[data-sonner-toast] {
  font-family: "Montserrat", sans-serif;
}
